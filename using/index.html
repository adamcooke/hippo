<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Setting up | Hippo</title>
    <meta name="description" content="Kubernetes deployment toolkit">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/hippo/assets/css/0.styles.50f5afac.css" as="style"><link rel="preload" href="/hippo/assets/js/app.b04199ea.js" as="script"><link rel="preload" href="/hippo/assets/js/2.d83d8343.js" as="script"><link rel="preload" href="/hippo/assets/js/8.0692184c.js" as="script"><link rel="prefetch" href="/hippo/assets/js/10.8a96ecc0.js"><link rel="prefetch" href="/hippo/assets/js/11.da559e82.js"><link rel="prefetch" href="/hippo/assets/js/12.5440a5fd.js"><link rel="prefetch" href="/hippo/assets/js/13.9248b3aa.js"><link rel="prefetch" href="/hippo/assets/js/14.b392259a.js"><link rel="prefetch" href="/hippo/assets/js/15.8a0c17a3.js"><link rel="prefetch" href="/hippo/assets/js/16.b4083c06.js"><link rel="prefetch" href="/hippo/assets/js/3.ed1d9c25.js"><link rel="prefetch" href="/hippo/assets/js/4.1551477e.js"><link rel="prefetch" href="/hippo/assets/js/5.9d20a555.js"><link rel="prefetch" href="/hippo/assets/js/6.27217335.js"><link rel="prefetch" href="/hippo/assets/js/7.0e4232b2.js"><link rel="prefetch" href="/hippo/assets/js/9.422d30b4.js">
    <link rel="stylesheet" href="/hippo/assets/css/0.styles.50f5afac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hippo/" class="home-link router-link-active"><!----> <span class="site-name">Hippo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/hippo/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/adamcooke/hippo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://slack.adam.ac" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/hippo/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/adamcooke/hippo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://slack.adam.ac" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Slack
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hippo/" class="sidebar-link">Welcome to Hippo 🦛</a></li><li><a href="/hippo/install.html" class="sidebar-link">Installing</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Using Hippo</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hippo/using/" class="active sidebar-link">Setting up</a></li><li><a href="/hippo/using/creating-a-stage.html" class="sidebar-link">Creating a stage</a></li><li><a href="/hippo/using/configuration.html" class="sidebar-link">Configuring a stage</a></li><li><a href="/hippo/using/preparing.html" class="sidebar-link">Preparing the cluster</a></li><li><a href="/hippo/using/installing-the-application.html" class="sidebar-link">Installing the application</a></li><li><a href="/hippo/using/status.html" class="sidebar-link">Viewing application status</a></li><li><a href="/hippo/using/deploying-updates.html" class="sidebar-link">Deploying updates</a></li><li><a href="/hippo/using/console-and-commands.html" class="sidebar-link">Console and commands</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Writing manifests</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hippo/manifests/" class="sidebar-link">Application manifests</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="setting-up"><a href="#setting-up" class="header-anchor">#</a> Setting up</h1> <p>Each application that can use Hippo must provide a <strong>Hippo Manifest</strong> which is a series of files which define exactly how that application should be deployed. You can make your own manifests or you can just pull from a public manifest hosted in a Git repository.</p> <p>In this section, we're going to look at the options available to you as if your manifest has already been created. We'll look at making your own manifests shortly.</p> <div class="custom-block warning"><p class="custom-block-title">A NOTE ABOUT NAMING</p> <p>For this guide, we will be installing an application named <strong>postal</strong> but this can be replaced with your own application name.</p></div> <h2 id="files-directories"><a href="#files-directories" class="header-anchor">#</a> Files &amp; directories</h2> <p>Each application that you wish to deploy should have a directory on your computer (also checked into version control) which will contain the configuration for each instance of that application that you wish to deploy. This is an example directory structure for that file.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>postal/                 <span class="token comment"># Name of the application</span>
  .git/                 <span class="token comment"># Your git repository</span>
  manifest.yaml         <span class="token comment"># Details of the application manifest</span>

  production/           <span class="token comment"># Configuration for your production instance</span>
    config.yaml
    secrets.yaml

  staging/              <span class="token comment"># Configuration for your staging instance</span>
    config.yaml
    secrets.yaml
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="initalizing-this-directory"><a href="#initalizing-this-directory" class="header-anchor">#</a> Initalizing this directory</h2> <p>The <code>hippo setup</code> command provides functionality to create your initial configuration directory.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p ~/hippo-configs
<span class="token builtin class-name">cd</span> ~/hippo-configs
hippo setup postal --remote https://github.com/postalhq/k8s-hippo
<span class="token comment"># Created configuration directory at /home/adam/hippo-configs/postal</span>
<span class="token comment"># Updating local copy of remote repository...</span>
<span class="token comment"># Updating manifest from https://github.com/postalhq/k8s-hippo... done</span>
<span class="token comment"># Update completed successfully.</span>
<span class="token comment">#</span>
<span class="token comment">#   Repository....: https://github.com/postalhq/k8s-hippo</span>
<span class="token comment">#   Branch........: master</span>
<span class="token comment">#   Path..........: /</span>
<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>This will create a directory named <code>postal</code> which will contain a file named <code>manifest.yaml</code> which defines where your manifest is located.</p> <h2 id="the-manifest-yaml-file"><a href="#the-manifest-yaml-file" class="header-anchor">#</a> The <code>manifest.yaml</code> file</h2> <p>This file exists in the root of your application configuration directory and defines where the manifest actually exists. Manifests can either be located in a Git repository (i.e. remote) or on your own machine (i.e. local).</p> <h3 id="remote-manifests"><a href="#remote-manifests" class="header-anchor">#</a> Remote manifests</h3> <p>If you wish to use a remote manifest, you should use the type as <code>remote</code> and provide the <code>remoteOptions</code> as shown below. By default the <code>branch</code> will be <code>master</code> and the <code>path</code> will be the root of the repository.</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> remote
  <span class="token key atrule">remoteOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">repository</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/postalhq/k8s<span class="token punctuation">-</span>hippo
    <span class="token key atrule">branch</span><span class="token punctuation">:</span> master
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="local-manifests"><a href="#local-manifests" class="header-anchor">#</a> Local manifests</h3> <p>If your manifest is local, you can just provide the path to the root of the manifest.</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> local
  <span class="token key atrule">localOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /home/adam/manifests/postal
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="overriding-manifest-configuration"><a href="#overriding-manifest-configuration" class="header-anchor">#</a> Overriding manifest configuration</h3> <p>You can, if you wish, override the manifest configuration by adding a <code>manifest.local.yaml</code> file which will be merged when reading the main manifest file. You should exclude this <code>.local.yaml</code> file from being committed to your repository.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hippo/install.html" class="prev">
        Installing
      </a></span> <span class="next"><a href="/hippo/using/creating-a-stage.html">
        Creating a stage
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hippo/assets/js/app.b04199ea.js" defer></script><script src="/hippo/assets/js/2.d83d8343.js" defer></script><script src="/hippo/assets/js/8.0692184c.js" defer></script>
  </body>
</html>
